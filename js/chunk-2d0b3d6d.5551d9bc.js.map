{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-bottom-row.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-busy.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-empty.js","webpack:///./node_modules/bootstrap-vue/esm/utils/stringify-object-values.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/sanitize-row.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/stringify-record-values.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-filtering.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-pagination.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-provider.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-selectable.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-sorting.js","webpack:///./node_modules/bootstrap-vue/esm/utils/stable-sort.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/default-sort-compare.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/helpers/mixin-top-row.js","webpack:///./node_modules/bootstrap-vue/esm/components/table/table.js"],"names":["bottomRowMixin","extend","props","methods","renderBottomRow","fields","this","computedFields","stacked","tbodyTrClass","tbodyTrAttr","h","$createElement","hasNormalizedSlot","staticClass","class","attrs","key","normalizeSlot","columns","length","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","MODEL_PROP_NAME_BUSY","MODEL_EVENT_NAME_BUSY","busyMixin","data","localBusy","computed","computedBusy","watch","newValue","oldValue","$emit","stopIfBusy","event","renderBusy","colspan","emptyFilteredHtml","emptyFilteredText","emptyHtml","emptyText","showEmpty","emptyMixin","renderEmpty","items","computedItems","$empty","isFiltered","domProps","html","role","stringifyObjectValues","sort","map","k","filter","v","join","row","ignoreFields","includeFields","fieldsObj","arguments","undefined","formattedRow","reduce","result","field","filterByFormatted","formatter","allowedKeys","array","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","i","arr2","DEBOUNCE_DEPRECATED_MSG","concat","filterDebounce","String","filterFunction","filterIgnoredFields","filterIncludedFields","filteringMixin","localFilter","filterSanitize","computedFilterIgnored","identity","computedFilterIncluded","computedFilterDebounce","ms","warn","localFiltering","hasProvider","noProviderFiltering","filteredCheck","filteredItems","localItems","localFilterFn","criteria","filterFn","filterFnFactory","defaultFilterFnFactory","$_filterTimer","clearFilterTimer","deep","handler","newCriteria","_this","timeout","setTimeout","_ref","created","_this2","$nextTick","Boolean","beforeDestroy","clearTimeout","fn","item","_this3","regExp","pattern","replace","RegExp","lastIndex","computedFieldsObj","currentPage","perPage","paginationMixin","localPaging","noProviderPaging","paginatedItems","sortedItems","math","ROOT_EVENT_NAME_REFRESHED","ROOT_ACTION_EVENT_NAME_REFRESH","apiUrl","noProviderSorting","providerMixin","mixins","providerTriggerContext","ctx","sortBy","sortDesc","localSortBy","localSortDesc","_providerUpdate","mounted","listenOnRoot","id","refresh","$off","$on","clearSelected","_providerSetLocal","emitOnRoot","context","then","e","message","_props","_watch","SELECT_MODES","noSelectOnClick","selectMode","selectable","selectedVariant","selectableMixin","selectedRows","selectedLastRow","isSelectable","hasSelectableRowClick","supportsSelectableRows","selectableHasSelection","some","selectableIsMultiSelect","selectableTableClasses","selectableTableAttrs","equal","setSelectionHandlers","_selectedRows","forEach","idx","push","beforeMount","selectRow","index","isRowSelected","selectedLastClicked","unselectRow","selectAllRows","selectableRowClasses","variant","dark","selectableRowAttrs","on","method","selectionHandler","selected","shiftKey","ctrlKey","metaKey","stableSort","compareFn","a","b","bind","_ref$sortBy","_ref$formatter","_ref$locale","locale","_ref$localeOptions","localeOptions","_ref$nullLast","nullLast","aa","get","bb","localeCompare","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread","target","source","getOwnPropertyDescriptors","defineProperties","MODEL_PROP_NAME_SORT_BY","MODEL_EVENT_NAME_SORT_BY","MODEL_PROP_NAME_SORT_DESC","MODEL_EVENT_NAME_SORT_DESC","SORT_DIRECTION_ASC","SORT_DIRECTION_DESC","SORT_DIRECTION_LAST","SORT_DIRECTIONS","labelSortAsc","labelSortClear","labelSortDesc","noFooterSorting","noLocalSorting","noSortReset","numeric","sortingMixin","localSorting","isSortable","f","sortable","sortCompareLocale","sortNullLast","sortCompare","sortCompareOptions","usage","sortByFormatted","getFieldFormatter","handleSort","isFoot","sortChanged","toggleLocalSortDesc","sortDirection","sortKey","sortTheadThClasses","sortIconLeft","sortTheadThAttrs","ariaSort","sortTheadThLabel","labelSorting","topRowMixin","renderTopRow","BTable"],"mappings":"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","file":"js/chunk-2d0b3d6d.5551d9bc.js","sourcesContent":["import { Vue } from '../../../vue';\nimport { SLOT_NAME_BOTTOM_ROW } from '../../../constants/slots';\nimport { isFunction } from '../../../utils/inspect';\nimport { BTr } from '../tr'; // --- Props ---\n\nexport var props = {}; // --- Mixin ---\n// @vue/component\n\nexport var bottomRowMixin = Vue.extend({\n  props: props,\n  methods: {\n    renderBottomRow: function renderBottomRow() {\n      var fields = this.computedFields,\n          stacked = this.stacked,\n          tbodyTrClass = this.tbodyTrClass,\n          tbodyTrAttr = this.tbodyTrAttr;\n      var h = this.$createElement; // Static bottom row slot (hidden in visibly stacked mode as we can't control the data-label)\n      // If in *always* stacked mode, we don't bother rendering the row\n\n      if (!this.hasNormalizedSlot(SLOT_NAME_BOTTOM_ROW) || stacked === true || stacked === '') {\n        return h();\n      }\n\n      return h(BTr, {\n        staticClass: 'b-table-bottom-row',\n        class: [isFunction(tbodyTrClass) ?\n        /* istanbul ignore next */\n        tbodyTrClass(null, 'row-bottom') : tbodyTrClass],\n        attrs: isFunction(tbodyTrAttr) ?\n        /* istanbul ignore next */\n        tbodyTrAttr(null, 'row-bottom') : tbodyTrAttr,\n        key: 'b-bottom-row'\n      }, this.normalizeSlot(SLOT_NAME_BOTTOM_ROW, {\n        columns: fields.length,\n        fields: fields\n      }));\n    }\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { MODEL_EVENT_NAME_PREFIX } from '../../../constants/events';\nimport { PROP_TYPE_BOOLEAN } from '../../../constants/props';\nimport { SLOT_NAME_TABLE_BUSY } from '../../../constants/slots';\nimport { stopEvent } from '../../../utils/events';\nimport { isFunction } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { BTr } from '../tr';\nimport { BTd } from '../td'; // --- Constants ---\n\nvar MODEL_PROP_NAME_BUSY = 'busy';\nvar MODEL_EVENT_NAME_BUSY = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_BUSY; // --- Props ---\n\nexport var props = _defineProperty({}, MODEL_PROP_NAME_BUSY, makeProp(PROP_TYPE_BOOLEAN, false)); // --- Mixin ---\n// @vue/component\n\nexport var busyMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      localBusy: false\n    };\n  },\n  computed: {\n    computedBusy: function computedBusy() {\n      return this[MODEL_PROP_NAME_BUSY] || this.localBusy;\n    }\n  },\n  watch: {\n    localBusy: function localBusy(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.$emit(MODEL_EVENT_NAME_BUSY, newValue);\n      }\n    }\n  },\n  methods: {\n    // Event handler helper\n    stopIfBusy: function stopIfBusy(event) {\n      // If table is busy (via provider) then don't propagate\n      if (this.computedBusy) {\n        stopEvent(event);\n        return true;\n      }\n\n      return false;\n    },\n    // Render the busy indicator or return `null` if not busy\n    renderBusy: function renderBusy() {\n      var tbodyTrClass = this.tbodyTrClass,\n          tbodyTrAttr = this.tbodyTrAttr;\n      var h = this.$createElement; // Return a busy indicator row, or `null` if not busy\n\n      if (this.computedBusy && this.hasNormalizedSlot(SLOT_NAME_TABLE_BUSY)) {\n        return h(BTr, {\n          staticClass: 'b-table-busy-slot',\n          class: [isFunction(tbodyTrClass) ?\n          /* istanbul ignore next */\n          tbodyTrClass(null, SLOT_NAME_TABLE_BUSY) : tbodyTrClass],\n          attrs: isFunction(tbodyTrAttr) ?\n          /* istanbul ignore next */\n          tbodyTrAttr(null, SLOT_NAME_TABLE_BUSY) : tbodyTrAttr,\n          key: 'table-busy-slot'\n        }, [h(BTd, {\n          props: {\n            colspan: this.computedFields.length || null\n          }\n        }, [this.normalizeSlot(SLOT_NAME_TABLE_BUSY)])]);\n      } // We return `null` here so that we can determine if we need to\n      // render the table items rows or not\n\n\n      return null;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../../constants/props';\nimport { SLOT_NAME_EMPTY, SLOT_NAME_EMPTYFILTERED, SLOT_NAME_TABLE_BUSY } from '../../../constants/slots';\nimport { htmlOrText } from '../../../utils/html';\nimport { isFunction } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { BTr } from '../tr';\nimport { BTd } from '../td'; // --- Props ---\n\nexport var props = {\n  emptyFilteredHtml: makeProp(PROP_TYPE_STRING),\n  emptyFilteredText: makeProp(PROP_TYPE_STRING, 'There are no records matching your request'),\n  emptyHtml: makeProp(PROP_TYPE_STRING),\n  emptyText: makeProp(PROP_TYPE_STRING, 'There are no records to show'),\n  showEmpty: makeProp(PROP_TYPE_BOOLEAN, false)\n}; // --- Mixin ---\n// @vue/component\n\nexport var emptyMixin = Vue.extend({\n  props: props,\n  methods: {\n    renderEmpty: function renderEmpty() {\n      var items = this.computedItems;\n      var h = this.$createElement;\n      var $empty = h();\n\n      if (this.showEmpty && (!items || items.length === 0) && !(this.computedBusy && this.hasNormalizedSlot(SLOT_NAME_TABLE_BUSY))) {\n        var fields = this.computedFields,\n            isFiltered = this.isFiltered,\n            emptyText = this.emptyText,\n            emptyHtml = this.emptyHtml,\n            emptyFilteredText = this.emptyFilteredText,\n            emptyFilteredHtml = this.emptyFilteredHtml,\n            tbodyTrClass = this.tbodyTrClass,\n            tbodyTrAttr = this.tbodyTrAttr;\n        $empty = this.normalizeSlot(isFiltered ? SLOT_NAME_EMPTYFILTERED : SLOT_NAME_EMPTY, {\n          emptyFilteredHtml: emptyFilteredHtml,\n          emptyFilteredText: emptyFilteredText,\n          emptyHtml: emptyHtml,\n          emptyText: emptyText,\n          fields: fields,\n          // Not sure why this is included, as it will always be an empty array\n          items: items\n        });\n\n        if (!$empty) {\n          $empty = h('div', {\n            class: ['text-center', 'my-2'],\n            domProps: isFiltered ? htmlOrText(emptyFilteredHtml, emptyFilteredText) : htmlOrText(emptyHtml, emptyText)\n          });\n        }\n\n        $empty = h(BTd, {\n          props: {\n            colspan: fields.length || null\n          }\n        }, [h('div', {\n          attrs: {\n            role: 'alert',\n            'aria-live': 'polite'\n          }\n        }, [$empty])]);\n        $empty = h(BTr, {\n          staticClass: 'b-table-empty-row',\n          class: [isFunction(tbodyTrClass) ?\n          /* istanbul ignore next */\n          tbodyTrClass(null, 'row-empty') : tbodyTrClass],\n          attrs: isFunction(tbodyTrAttr) ?\n          /* istanbul ignore next */\n          tbodyTrAttr(null, 'row-empty') : tbodyTrAttr,\n          key: isFiltered ? 'b-empty-filtered-row' : 'b-empty-row'\n        }, [$empty]);\n      }\n\n      return $empty;\n    }\n  }\n});","import { isDate, isObject, isUndefinedOrNull } from './inspect';\nimport { keys } from './object';\nimport { toString } from './string'; // Recursively stringifies the values of an object, space separated, in an\n// SSR safe deterministic way (keys are sorted before stringification)\n//\n//   ex:\n//     { b: 3, c: { z: 'zzz', d: null, e: 2 }, d: [10, 12, 11], a: 'one' }\n//   becomes\n//     'one 3 2 zzz 10 12 11'\n//\n// Strings are returned as-is\n// Numbers get converted to string\n// `null` and `undefined` values are filtered out\n// Dates are converted to their native string format\n\nexport var stringifyObjectValues = function stringifyObjectValues(value) {\n  if (isUndefinedOrNull(value)) {\n    return '';\n  } // Arrays are also object, and keys just returns the array indexes\n  // Date objects we convert to strings\n\n\n  if (isObject(value) && !isDate(value)) {\n    return keys(value).sort() // Sort to prevent SSR issues on pre-rendered sorted tables\n    .map(function (k) {\n      return stringifyObjectValues(value[k]);\n    }).filter(function (v) {\n      return !!v;\n    }) // Ignore empty strings\n    .join(' ');\n  }\n\n  return toString(value);\n};","import { arrayIncludes } from '../../../utils/array';\nimport { isArray, isFunction } from '../../../utils/inspect';\nimport { clone, keys, pick } from '../../../utils/object';\nimport { IGNORED_FIELD_KEYS } from './constants'; // Return a copy of a row after all reserved fields have been filtered out\n\nexport var sanitizeRow = function sanitizeRow(row, ignoreFields, includeFields) {\n  var fieldsObj = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  // We first need to format the row based on the field configurations\n  // This ensures that we add formatted values for keys that may not\n  // exist in the row itself\n  var formattedRow = keys(fieldsObj).reduce(function (result, key) {\n    var field = fieldsObj[key];\n    var filterByFormatted = field.filterByFormatted;\n    var formatter = isFunction(filterByFormatted) ?\n    /* istanbul ignore next */\n    filterByFormatted : filterByFormatted ?\n    /* istanbul ignore next */\n    field.formatter : null;\n\n    if (isFunction(formatter)) {\n      result[key] = formatter(row[key], key, row);\n    }\n\n    return result;\n  }, clone(row)); // Determine the allowed keys:\n  //   - Ignore special fields that start with `_`\n  //   - Ignore fields in the `ignoreFields` array\n  //   - Include only fields in the `includeFields` array\n\n  var allowedKeys = keys(formattedRow).filter(function (key) {\n    return !IGNORED_FIELD_KEYS[key] && !(isArray(ignoreFields) && ignoreFields.length > 0 && arrayIncludes(ignoreFields, key)) && !(isArray(includeFields) && includeFields.length > 0 && !arrayIncludes(includeFields, key));\n  });\n  return pick(formattedRow, allowedKeys);\n};","import { isObject } from '../../../utils/inspect';\nimport { stringifyObjectValues } from '../../../utils/stringify-object-values';\nimport { sanitizeRow } from './sanitize-row'; // Stringifies the values of a record, ignoring any special top level field keys\n// TODO: Add option to stringify `scopedSlot` items\n\nexport var stringifyRecordValues = function stringifyRecordValues(row, ignoreFields, includeFields, fieldsObj) {\n  return isObject(row) ? stringifyObjectValues(sanitizeRow(row, ignoreFields, includeFields, fieldsObj)) :\n  /* istanbul ignore next */\n  '';\n};","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Vue } from '../../../vue';\nimport { NAME_TABLE } from '../../../constants/components';\nimport { EVENT_NAME_FILTERED } from '../../../constants/events';\nimport { PROP_TYPE_REG_EXP, PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_FUNCTION, PROP_TYPE_ARRAY, PROP_TYPE_NUMBER_STRING } from '../../../constants/props';\nimport { RX_DIGITS, RX_SPACES } from '../../../constants/regex';\nimport { concat } from '../../../utils/array';\nimport { cloneDeep } from '../../../utils/clone-deep';\nimport { identity } from '../../../utils/identity';\nimport { isFunction, isString, isRegExp } from '../../../utils/inspect';\nimport { looseEqual } from '../../../utils/loose-equal';\nimport { toInteger } from '../../../utils/number';\nimport { hasPropFunction, makeProp } from '../../../utils/props';\nimport { escapeRegExp } from '../../../utils/string';\nimport { warn } from '../../../utils/warn';\nimport { stringifyRecordValues } from './stringify-record-values'; // --- Constants ---\n\nvar DEBOUNCE_DEPRECATED_MSG = 'Prop \"filter-debounce\" is deprecated. Use the debounce feature of \"<b-form-input>\" instead.'; // --- Props ---\n\nexport var props = {\n  filter: makeProp([].concat(_toConsumableArray(PROP_TYPE_ARRAY_OBJECT_STRING), [PROP_TYPE_REG_EXP])),\n  filterDebounce: makeProp(PROP_TYPE_NUMBER_STRING, 0, function (value) {\n    return RX_DIGITS.test(String(value));\n  }),\n  filterFunction: makeProp(PROP_TYPE_FUNCTION),\n  filterIgnoredFields: makeProp(PROP_TYPE_ARRAY, []),\n  filterIncludedFields: makeProp(PROP_TYPE_ARRAY, [])\n}; // --- Mixin ---\n// @vue/component\n\nexport var filteringMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      // Flag for displaying which empty slot to show and some event triggering\n      isFiltered: false,\n      // Where we store the copy of the filter criteria after debouncing\n      // We pre-set it with the sanitized filter value\n      localFilter: this.filterSanitize(this.filter)\n    };\n  },\n  computed: {\n    computedFilterIgnored: function computedFilterIgnored() {\n      return concat(this.filterIgnoredFields || []).filter(identity);\n    },\n    computedFilterIncluded: function computedFilterIncluded() {\n      return concat(this.filterIncludedFields || []).filter(identity);\n    },\n    computedFilterDebounce: function computedFilterDebounce() {\n      var ms = toInteger(this.filterDebounce, 0);\n      /* istanbul ignore next */\n\n      if (ms > 0) {\n        warn(DEBOUNCE_DEPRECATED_MSG, NAME_TABLE);\n      }\n\n      return ms;\n    },\n    localFiltering: function localFiltering() {\n      return this.hasProvider ? !!this.noProviderFiltering : true;\n    },\n    // For watching changes to `filteredItems` vs `localItems`\n    filteredCheck: function filteredCheck() {\n      var filteredItems = this.filteredItems,\n          localItems = this.localItems,\n          localFilter = this.localFilter;\n      return {\n        filteredItems: filteredItems,\n        localItems: localItems,\n        localFilter: localFilter\n      };\n    },\n    // Sanitized/normalize filter-function prop\n    localFilterFn: function localFilterFn() {\n      // Return `null` to signal to use internal filter function\n      var filterFunction = this.filterFunction;\n      return hasPropFunction(filterFunction) ? filterFunction : null;\n    },\n    // Returns the records in `localItems` that match the filter criteria\n    // Returns the original `localItems` array if not sorting\n    filteredItems: function filteredItems() {\n      // Note the criteria is debounced and sanitized\n      var items = this.localItems,\n          criteria = this.localFilter; // Resolve the filtering function, when requested\n      // We prefer the provided filtering function and fallback to the internal one\n      // When no filtering criteria is specified the filtering factories will return `null`\n\n      var filterFn = this.localFiltering ? this.filterFnFactory(this.localFilterFn, criteria) || this.defaultFilterFnFactory(criteria) : null; // We only do local filtering when requested and there are records to filter\n\n      return filterFn && items.length > 0 ? items.filter(filterFn) : items;\n    }\n  },\n  watch: {\n    // Watch for debounce being set to 0\n    computedFilterDebounce: function computedFilterDebounce(newValue) {\n      if (!newValue && this.$_filterTimer) {\n        this.clearFilterTimer();\n        this.localFilter = this.filterSanitize(this.filter);\n      }\n    },\n    // Watch for changes to the filter criteria, and debounce if necessary\n    filter: {\n      // We need a deep watcher in case the user passes\n      // an object when using `filter-function`\n      deep: true,\n      handler: function handler(newCriteria) {\n        var _this = this;\n\n        var timeout = this.computedFilterDebounce;\n        this.clearFilterTimer();\n\n        if (timeout && timeout > 0) {\n          // If we have a debounce time, delay the update of `localFilter`\n          this.$_filterTimer = setTimeout(function () {\n            _this.localFilter = _this.filterSanitize(newCriteria);\n          }, timeout);\n        } else {\n          // Otherwise, immediately update `localFilter` with `newFilter` value\n          this.localFilter = this.filterSanitize(newCriteria);\n        }\n      }\n    },\n    // Watch for changes to the filter criteria and filtered items vs `localItems`\n    // Set visual state and emit events as required\n    filteredCheck: function filteredCheck(_ref) {\n      var filteredItems = _ref.filteredItems,\n          localFilter = _ref.localFilter;\n      // Determine if the dataset is filtered or not\n      var isFiltered = false;\n\n      if (!localFilter) {\n        // If filter criteria is falsey\n        isFiltered = false;\n      } else if (looseEqual(localFilter, []) || looseEqual(localFilter, {})) {\n        // If filter criteria is an empty array or object\n        isFiltered = false;\n      } else if (localFilter) {\n        // If filter criteria is truthy\n        isFiltered = true;\n      }\n\n      if (isFiltered) {\n        this.$emit(EVENT_NAME_FILTERED, filteredItems, filteredItems.length);\n      }\n\n      this.isFiltered = isFiltered;\n    },\n    isFiltered: function isFiltered(newValue, oldValue) {\n      if (newValue === false && oldValue === true) {\n        // We need to emit a filtered event if `isFiltered` transitions from `true` to\n        // `false` so that users can update their pagination controls\n        var localItems = this.localItems;\n        this.$emit(EVENT_NAME_FILTERED, localItems, localItems.length);\n      }\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    // Create private non-reactive props\n    this.$_filterTimer = null; // If filter is \"pre-set\", set the criteria\n    // This will trigger any watchers/dependents\n    // this.localFilter = this.filterSanitize(this.filter)\n    // Set the initial filtered state in a `$nextTick()` so that\n    // we trigger a filtered event if needed\n\n    this.$nextTick(function () {\n      _this2.isFiltered = Boolean(_this2.localFilter);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.clearFilterTimer();\n  },\n  methods: {\n    clearFilterTimer: function clearFilterTimer() {\n      clearTimeout(this.$_filterTimer);\n      this.$_filterTimer = null;\n    },\n    filterSanitize: function filterSanitize(criteria) {\n      // Sanitizes filter criteria based on internal or external filtering\n      if (this.localFiltering && !this.localFilterFn && !(isString(criteria) || isRegExp(criteria))) {\n        // If using internal filter function, which only accepts string or RegExp,\n        // return '' to signify no filter\n        return '';\n      } // Could be a string, object or array, as needed by external filter function\n      // We use `cloneDeep` to ensure we have a new copy of an object or array\n      // without Vue's reactive observers\n\n\n      return cloneDeep(criteria);\n    },\n    // Filter Function factories\n    filterFnFactory: function filterFnFactory(filterFn, criteria) {\n      // Wrapper factory for external filter functions\n      // Wrap the provided filter-function and return a new function\n      // Returns `null` if no filter-function defined or if criteria is falsey\n      // Rather than directly grabbing `this.computedLocalFilterFn` or `this.filterFunction`\n      // we have it passed, so that the caller computed prop will be reactive to changes\n      // in the original filter-function (as this routine is a method)\n      if (!filterFn || !isFunction(filterFn) || !criteria || looseEqual(criteria, []) || looseEqual(criteria, {})) {\n        return null;\n      } // Build the wrapped filter test function, passing the criteria to the provided function\n\n\n      var fn = function fn(item) {\n        // Generated function returns true if the criteria matches part\n        // of the serialized data, otherwise false\n        return filterFn(item, criteria);\n      }; // Return the wrapped function\n\n\n      return fn;\n    },\n    defaultFilterFnFactory: function defaultFilterFnFactory(criteria) {\n      var _this3 = this;\n\n      // Generates the default filter function, using the given filter criteria\n      // Returns `null` if no criteria or criteria format not supported\n      if (!criteria || !(isString(criteria) || isRegExp(criteria))) {\n        // Built in filter can only support strings or RegExp criteria (at the moment)\n        return null;\n      } // Build the RegExp needed for filtering\n\n\n      var regExp = criteria;\n\n      if (isString(regExp)) {\n        // Escape special RegExp characters in the string and convert contiguous\n        // whitespace to \\s+ matches\n        var pattern = escapeRegExp(criteria).replace(RX_SPACES, '\\\\s+'); // Build the RegExp (no need for global flag, as we only need\n        // to find the value once in the string)\n\n        regExp = new RegExp(\".*\".concat(pattern, \".*\"), 'i');\n      } // Generate the wrapped filter test function to use\n\n\n      var fn = function fn(item) {\n        // This searches all row values (and sub property values) in the entire (excluding\n        // special `_` prefixed keys), because we convert the record to a space-separated\n        // string containing all the value properties (recursively), even ones that are\n        // not visible (not specified in this.fields)\n        // Users can ignore filtering on specific fields, or on only certain fields,\n        // and can optionall specify searching results of fields with formatter\n        //\n        // TODO: Enable searching on scoped slots (optional, as it will be SLOW)\n        //\n        // Generated function returns true if the criteria matches part of\n        // the serialized data, otherwise false\n        //\n        // We set `lastIndex = 0` on the `RegExp` in case someone specifies the `/g` global flag\n        regExp.lastIndex = 0;\n        return regExp.test(stringifyRecordValues(item, _this3.computedFilterIgnored, _this3.computedFilterIncluded, _this3.computedFieldsObj));\n      }; // Return the generated function\n\n\n      return fn;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { PROP_TYPE_NUMBER_STRING } from '../../../constants/props';\nimport { mathMax } from '../../../utils/math';\nimport { toInteger } from '../../../utils/number';\nimport { makeProp } from '../../../utils/props'; // --- Props ---\n\nexport var props = {\n  currentPage: makeProp(PROP_TYPE_NUMBER_STRING, 1),\n  perPage: makeProp(PROP_TYPE_NUMBER_STRING, 0)\n}; // --- Mixin ---\n// @vue/component\n\nexport var paginationMixin = Vue.extend({\n  props: props,\n  computed: {\n    localPaging: function localPaging() {\n      return this.hasProvider ? !!this.noProviderPaging : true;\n    },\n    paginatedItems: function paginatedItems() {\n      var items = this.sortedItems || this.filteredItems || this.localItems || [];\n      var currentPage = mathMax(toInteger(this.currentPage, 1), 1);\n      var perPage = mathMax(toInteger(this.perPage, 0), 0); // Apply local pagination\n\n      if (this.localPaging && perPage) {\n        // Grab the current page of data (which may be past filtered items limit)\n        items = items.slice((currentPage - 1) * perPage, currentPage * perPage);\n      } // Return the items to display in the table\n\n\n      return items;\n    }\n  }\n});","import { Vue } from '../../../vue';\nimport { NAME_TABLE } from '../../../constants/components';\nimport { EVENT_NAME_REFRESH, EVENT_NAME_REFRESHED } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY_FUNCTION, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../../constants/props';\nimport { getRootActionEventName, getRootEventName } from '../../../utils/events';\nimport { isArray, isFunction, isPromise } from '../../../utils/inspect';\nimport { looseEqual } from '../../../utils/loose-equal';\nimport { clone } from '../../../utils/object';\nimport { makeProp } from '../../../utils/props';\nimport { warn } from '../../../utils/warn';\nimport { listenOnRootMixin } from '../../../mixins/listen-on-root'; // --- Constants ---\n\nvar ROOT_EVENT_NAME_REFRESHED = getRootEventName(NAME_TABLE, EVENT_NAME_REFRESHED);\nvar ROOT_ACTION_EVENT_NAME_REFRESH = getRootActionEventName(NAME_TABLE, EVENT_NAME_REFRESH); // --- Props ---\n\nexport var props = {\n  // Passed to the context object\n  // Not used by `<b-table>` directly\n  apiUrl: makeProp(PROP_TYPE_STRING),\n  // Adds in 'Function' support\n  items: makeProp(PROP_TYPE_ARRAY_FUNCTION, []),\n  noProviderFiltering: makeProp(PROP_TYPE_BOOLEAN, false),\n  noProviderPaging: makeProp(PROP_TYPE_BOOLEAN, false),\n  noProviderSorting: makeProp(PROP_TYPE_BOOLEAN, false)\n}; // --- Mixin ---\n// @vue/component\n\nexport var providerMixin = Vue.extend({\n  mixins: [listenOnRootMixin],\n  props: props,\n  computed: {\n    hasProvider: function hasProvider() {\n      return isFunction(this.items);\n    },\n    providerTriggerContext: function providerTriggerContext() {\n      // Used to trigger the provider function via a watcher. Only the fields that\n      // are needed for triggering a provider update are included. Note that the\n      // regular this.context is sent to the provider during fetches though, as they\n      // may need all the prop info.\n      var ctx = {\n        apiUrl: this.apiUrl,\n        filter: null,\n        sortBy: null,\n        sortDesc: null,\n        perPage: null,\n        currentPage: null\n      };\n\n      if (!this.noProviderFiltering) {\n        // Either a string, or could be an object or array.\n        ctx.filter = this.localFilter;\n      }\n\n      if (!this.noProviderSorting) {\n        ctx.sortBy = this.localSortBy;\n        ctx.sortDesc = this.localSortDesc;\n      }\n\n      if (!this.noProviderPaging) {\n        ctx.perPage = this.perPage;\n        ctx.currentPage = this.currentPage;\n      }\n\n      return clone(ctx);\n    }\n  },\n  watch: {\n    // Provider update triggering\n    items: function items(newValue) {\n      // If a new provider has been specified, trigger an update\n      if (this.hasProvider || isFunction(newValue)) {\n        this.$nextTick(this._providerUpdate);\n      }\n    },\n    providerTriggerContext: function providerTriggerContext(newValue, oldValue) {\n      // Trigger the provider to update as the relevant context values have changed.\n      if (!looseEqual(newValue, oldValue)) {\n        this.$nextTick(this._providerUpdate);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Call the items provider if necessary\n    if (this.hasProvider && (!this.localItems || this.localItems.length === 0)) {\n      // Fetch on mount if localItems is empty\n      this._providerUpdate();\n    } // Listen for global messages to tell us to force refresh the table\n\n\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REFRESH, function (id) {\n      if (id === _this.id || id === _this) {\n        _this.refresh();\n      }\n    });\n  },\n  methods: {\n    refresh: function refresh() {\n      var items = this.items,\n          refresh = this.refresh; // Public Method: Force a refresh of the provider function\n\n      this.$off(EVENT_NAME_REFRESHED, refresh);\n\n      if (this.computedBusy) {\n        // Can't force an update when forced busy by user (busy prop === true)\n        if (this.localBusy && this.hasProvider) {\n          // But if provider running (localBusy), re-schedule refresh once `refreshed` emitted\n          this.$on(EVENT_NAME_REFRESHED, refresh);\n        }\n      } else {\n        this.clearSelected();\n\n        if (this.hasProvider) {\n          this.$nextTick(this._providerUpdate);\n        } else {\n          /* istanbul ignore next */\n          this.localItems = isArray(items) ? items.slice() : [];\n        }\n      }\n    },\n    // Provider related methods\n    _providerSetLocal: function _providerSetLocal(items) {\n      this.localItems = isArray(items) ? items.slice() : [];\n      this.localBusy = false;\n      this.$emit(EVENT_NAME_REFRESHED); // New root emit\n\n      if (this.id) {\n        this.emitOnRoot(ROOT_EVENT_NAME_REFRESHED, this.id);\n      }\n    },\n    _providerUpdate: function _providerUpdate() {\n      var _this2 = this;\n\n      // Refresh the provider function items.\n      if (!this.hasProvider) {\n        // Do nothing if no provider\n        return;\n      } // If table is busy, wait until refreshed before calling again\n\n\n      if (this.computedBusy) {\n        // Schedule a new refresh once `refreshed` is emitted\n        this.$nextTick(this.refresh);\n        return;\n      } // Set internal busy state\n\n\n      this.localBusy = true; // Call provider function with context and optional callback after DOM is fully updated\n\n      this.$nextTick(function () {\n        try {\n          // Call provider function passing it the context and optional callback\n          var data = _this2.items(_this2.context, _this2._providerSetLocal);\n\n          if (isPromise(data)) {\n            // Provider returned Promise\n            data.then(function (items) {\n              // Provider resolved with items\n              _this2._providerSetLocal(items);\n            });\n          } else if (isArray(data)) {\n            // Provider returned Array data\n            _this2._providerSetLocal(data);\n          } else {\n            /* istanbul ignore if */\n            if (_this2.items.length !== 2) {\n              // Check number of arguments provider function requested\n              // Provider not using callback (didn't request second argument), so we clear\n              // busy state as most likely there was an error in the provider function\n\n              /* istanbul ignore next */\n              warn(\"Provider function didn't request callback and did not return a promise or data.\", NAME_TABLE);\n              _this2.localBusy = false;\n            }\n          }\n        } catch (e)\n        /* istanbul ignore next */\n        {\n          // Provider function borked on us, so we spew out a warning\n          // and clear the busy state\n          warn(\"Provider function error [\".concat(e.name, \"] \").concat(e.message, \".\"), NAME_TABLE);\n          _this2.localBusy = false;\n\n          _this2.$off(EVENT_NAME_REFRESHED, _this2.refresh);\n        }\n      });\n    }\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_CONTEXT_CHANGED, EVENT_NAME_FILTERED, EVENT_NAME_ROW_CLICKED, EVENT_NAME_ROW_SELECTED } from '../../../constants/events';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../../constants/props';\nimport { arrayIncludes, createArray } from '../../../utils/array';\nimport { identity } from '../../../utils/identity';\nimport { isArray, isNumber } from '../../../utils/inspect';\nimport { looseEqual } from '../../../utils/loose-equal';\nimport { mathMax, mathMin } from '../../../utils/math';\nimport { makeProp } from '../../../utils/props';\nimport { sanitizeRow } from './sanitize-row'; // --- Constants ---\n\nvar SELECT_MODES = ['range', 'multi', 'single']; // --- Props ---\n\nexport var props = {\n  // Disable use of click handlers for row selection\n  noSelectOnClick: makeProp(PROP_TYPE_BOOLEAN, false),\n  selectMode: makeProp(PROP_TYPE_STRING, 'multi', function (value) {\n    return arrayIncludes(SELECT_MODES, value);\n  }),\n  selectable: makeProp(PROP_TYPE_BOOLEAN, false),\n  selectedVariant: makeProp(PROP_TYPE_STRING, 'active')\n}; // --- Mixin ---\n// @vue/component\n\nexport var selectableMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      selectedRows: [],\n      selectedLastRow: -1\n    };\n  },\n  computed: {\n    isSelectable: function isSelectable() {\n      return this.selectable && this.selectMode;\n    },\n    hasSelectableRowClick: function hasSelectableRowClick() {\n      return this.isSelectable && !this.noSelectOnClick;\n    },\n    supportsSelectableRows: function supportsSelectableRows() {\n      return true;\n    },\n    selectableHasSelection: function selectableHasSelection() {\n      var selectedRows = this.selectedRows;\n      return this.isSelectable && selectedRows && selectedRows.length > 0 && selectedRows.some(identity);\n    },\n    selectableIsMultiSelect: function selectableIsMultiSelect() {\n      return this.isSelectable && arrayIncludes(['range', 'multi'], this.selectMode);\n    },\n    selectableTableClasses: function selectableTableClasses() {\n      var _ref;\n\n      var isSelectable = this.isSelectable;\n      return _ref = {\n        'b-table-selectable': isSelectable\n      }, _defineProperty(_ref, \"b-table-select-\".concat(this.selectMode), isSelectable), _defineProperty(_ref, 'b-table-selecting', this.selectableHasSelection), _defineProperty(_ref, 'b-table-selectable-no-click', isSelectable && !this.hasSelectableRowClick), _ref;\n    },\n    selectableTableAttrs: function selectableTableAttrs() {\n      return {\n        // TODO:\n        //   Should this attribute not be included when no-select-on-click is set\n        //   since this attribute implies keyboard navigation?\n        'aria-multiselectable': !this.isSelectable ? null : this.selectableIsMultiSelect ? 'true' : 'false'\n      };\n    }\n  },\n  watch: {\n    computedItems: function computedItems(newValue, oldValue) {\n      // Reset for selectable\n      var equal = false;\n\n      if (this.isSelectable && this.selectedRows.length > 0) {\n        // Quick check against array length\n        equal = isArray(newValue) && isArray(oldValue) && newValue.length === oldValue.length;\n\n        for (var i = 0; equal && i < newValue.length; i++) {\n          // Look for the first non-loosely equal row, after ignoring reserved fields\n          equal = looseEqual(sanitizeRow(newValue[i]), sanitizeRow(oldValue[i]));\n        }\n      }\n\n      if (!equal) {\n        this.clearSelected();\n      }\n    },\n    selectable: function selectable(newValue) {\n      this.clearSelected();\n      this.setSelectionHandlers(newValue);\n    },\n    selectMode: function selectMode() {\n      this.clearSelected();\n    },\n    hasSelectableRowClick: function hasSelectableRowClick(newValue) {\n      this.clearSelected();\n      this.setSelectionHandlers(!newValue);\n    },\n    selectedRows: function selectedRows(_selectedRows, oldValue) {\n      var _this = this;\n\n      if (this.isSelectable && !looseEqual(_selectedRows, oldValue)) {\n        var items = []; // `.forEach()` skips over non-existent indices (on sparse arrays)\n\n        _selectedRows.forEach(function (v, idx) {\n          if (v) {\n            items.push(_this.computedItems[idx]);\n          }\n        });\n\n        this.$emit(EVENT_NAME_ROW_SELECTED, items);\n      }\n    }\n  },\n  beforeMount: function beforeMount() {\n    // Set up handlers if needed\n    if (this.isSelectable) {\n      this.setSelectionHandlers(true);\n    }\n  },\n  methods: {\n    // Public methods\n    selectRow: function selectRow(index) {\n      // Select a particular row (indexed based on computedItems)\n      if (this.isSelectable && isNumber(index) && index >= 0 && index < this.computedItems.length && !this.isRowSelected(index)) {\n        var selectedRows = this.selectableIsMultiSelect ? this.selectedRows.slice() : [];\n        selectedRows[index] = true;\n        this.selectedLastClicked = -1;\n        this.selectedRows = selectedRows;\n      }\n    },\n    unselectRow: function unselectRow(index) {\n      // Un-select a particular row (indexed based on `computedItems`)\n      if (this.isSelectable && isNumber(index) && this.isRowSelected(index)) {\n        var selectedRows = this.selectedRows.slice();\n        selectedRows[index] = false;\n        this.selectedLastClicked = -1;\n        this.selectedRows = selectedRows;\n      }\n    },\n    selectAllRows: function selectAllRows() {\n      var length = this.computedItems.length;\n\n      if (this.isSelectable && length > 0) {\n        this.selectedLastClicked = -1;\n        this.selectedRows = this.selectableIsMultiSelect ? createArray(length, true) : [true];\n      }\n    },\n    isRowSelected: function isRowSelected(index) {\n      // Determine if a row is selected (indexed based on `computedItems`)\n      return !!(isNumber(index) && this.selectedRows[index]);\n    },\n    clearSelected: function clearSelected() {\n      // Clear any active selected row(s)\n      this.selectedLastClicked = -1;\n      this.selectedRows = [];\n    },\n    // Internal private methods\n    selectableRowClasses: function selectableRowClasses(index) {\n      if (this.isSelectable && this.isRowSelected(index)) {\n        var variant = this.selectedVariant;\n        return _defineProperty({\n          'b-table-row-selected': true\n        }, \"\".concat(this.dark ? 'bg' : 'table', \"-\").concat(variant), variant);\n      }\n\n      return {};\n    },\n    selectableRowAttrs: function selectableRowAttrs(index) {\n      return {\n        'aria-selected': !this.isSelectable ? null : this.isRowSelected(index) ? 'true' : 'false'\n      };\n    },\n    setSelectionHandlers: function setSelectionHandlers(on) {\n      var method = on && !this.noSelectOnClick ? '$on' : '$off'; // Handle row-clicked event\n\n      this[method](EVENT_NAME_ROW_CLICKED, this.selectionHandler); // Clear selection on filter, pagination, and sort changes\n\n      this[method](EVENT_NAME_FILTERED, this.clearSelected);\n      this[method](EVENT_NAME_CONTEXT_CHANGED, this.clearSelected);\n    },\n    selectionHandler: function selectionHandler(item, index, event) {\n      /* istanbul ignore if: should never happen */\n      if (!this.isSelectable || this.noSelectOnClick) {\n        // Don't do anything if table is not in selectable mode\n        this.clearSelected();\n        return;\n      }\n\n      var selectMode = this.selectMode,\n          selectedLastRow = this.selectedLastRow;\n      var selectedRows = this.selectedRows.slice();\n      var selected = !selectedRows[index]; // Note 'multi' mode needs no special event handling\n\n      if (selectMode === 'single') {\n        selectedRows = [];\n      } else if (selectMode === 'range') {\n        if (selectedLastRow > -1 && event.shiftKey) {\n          // range\n          for (var idx = mathMin(selectedLastRow, index); idx <= mathMax(selectedLastRow, index); idx++) {\n            selectedRows[idx] = true;\n          }\n\n          selected = true;\n        } else {\n          if (!(event.ctrlKey || event.metaKey)) {\n            // Clear range selection if any\n            selectedRows = [];\n            selected = true;\n          }\n\n          this.selectedLastRow = selected ? index : -1;\n        }\n      }\n\n      selectedRows[index] = selected;\n      this.selectedRows = selectedRows;\n    }\n  }\n});","var _props, _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../../vue';\nimport { EVENT_NAME_HEAD_CLICKED, EVENT_NAME_SORT_CHANGED, MODEL_EVENT_NAME_PREFIX } from '../../../constants/events';\nimport { PROP_TYPE_ARRAY_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_FUNCTION, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../../constants/props';\nimport { arrayIncludes } from '../../../utils/array';\nimport { isFunction, isUndefinedOrNull } from '../../../utils/inspect';\nimport { makeProp } from '../../../utils/props';\nimport { stableSort } from '../../../utils/stable-sort';\nimport { trim } from '../../../utils/string';\nimport { defaultSortCompare } from './default-sort-compare'; // --- Constants ---\n\nvar MODEL_PROP_NAME_SORT_BY = 'sortBy';\nvar MODEL_EVENT_NAME_SORT_BY = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_SORT_BY;\nvar MODEL_PROP_NAME_SORT_DESC = 'sortDesc';\nvar MODEL_EVENT_NAME_SORT_DESC = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_SORT_DESC;\nvar SORT_DIRECTION_ASC = 'asc';\nvar SORT_DIRECTION_DESC = 'desc';\nvar SORT_DIRECTION_LAST = 'last';\nvar SORT_DIRECTIONS = [SORT_DIRECTION_ASC, SORT_DIRECTION_DESC, SORT_DIRECTION_LAST]; // --- Props ---\n\nexport var props = (_props = {\n  labelSortAsc: makeProp(PROP_TYPE_STRING, 'Click to sort Ascending'),\n  labelSortClear: makeProp(PROP_TYPE_STRING, 'Click to clear sorting'),\n  labelSortDesc: makeProp(PROP_TYPE_STRING, 'Click to sort Descending'),\n  noFooterSorting: makeProp(PROP_TYPE_BOOLEAN, false),\n  noLocalSorting: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Another prop that should have had a better name\n  // It should be `noSortClear` (on non-sortable headers)\n  // We will need to make sure the documentation is clear on what\n  // this prop does (as well as in the code for future reference)\n  noSortReset: makeProp(PROP_TYPE_BOOLEAN, false)\n}, _defineProperty(_props, MODEL_PROP_NAME_SORT_BY, makeProp(PROP_TYPE_STRING)), _defineProperty(_props, \"sortCompare\", makeProp(PROP_TYPE_FUNCTION)), _defineProperty(_props, \"sortCompareLocale\", makeProp(PROP_TYPE_ARRAY_STRING)), _defineProperty(_props, \"sortCompareOptions\", makeProp(PROP_TYPE_OBJECT, {\n  numeric: true\n})), _defineProperty(_props, MODEL_PROP_NAME_SORT_DESC, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_props, \"sortDirection\", makeProp(PROP_TYPE_STRING, SORT_DIRECTION_ASC, function (value) {\n  return arrayIncludes(SORT_DIRECTIONS, value);\n})), _defineProperty(_props, \"sortIconLeft\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_props, \"sortNullLast\", makeProp(PROP_TYPE_BOOLEAN, false)), _props); // --- Mixin ---\n// @vue/component\n\nexport var sortingMixin = Vue.extend({\n  props: props,\n  data: function data() {\n    return {\n      localSortBy: this[MODEL_PROP_NAME_SORT_BY] || '',\n      localSortDesc: this[MODEL_PROP_NAME_SORT_DESC] || false\n    };\n  },\n  computed: {\n    localSorting: function localSorting() {\n      return this.hasProvider ? !!this.noProviderSorting : !this.noLocalSorting;\n    },\n    isSortable: function isSortable() {\n      return this.computedFields.some(function (f) {\n        return f.sortable;\n      });\n    },\n    // Sorts the filtered items and returns a new array of the sorted items\n    // When not sorted, the original items array will be returned\n    sortedItems: function sortedItems() {\n      var sortBy = this.localSortBy,\n          sortDesc = this.localSortDesc,\n          locale = this.sortCompareLocale,\n          nullLast = this.sortNullLast,\n          sortCompare = this.sortCompare,\n          localSorting = this.localSorting;\n      var items = (this.filteredItems || this.localItems || []).slice();\n\n      var localeOptions = _objectSpread(_objectSpread({}, this.sortCompareOptions), {}, {\n        usage: 'sort'\n      });\n\n      if (sortBy && localSorting) {\n        var field = this.computedFieldsObj[sortBy] || {};\n        var sortByFormatted = field.sortByFormatted;\n        var formatter = isFunction(sortByFormatted) ?\n        /* istanbul ignore next */\n        sortByFormatted : sortByFormatted ? this.getFieldFormatter(sortBy) : undefined; // `stableSort` returns a new array, and leaves the original array intact\n\n        return stableSort(items, function (a, b) {\n          var result = null; // Call user provided `sortCompare` routine first\n\n          if (isFunction(sortCompare)) {\n            // TODO:\n            //   Change the `sortCompare` signature to the one of `defaultSortCompare`\n            //   with the next major version bump\n            result = sortCompare(a, b, sortBy, sortDesc, formatter, localeOptions, locale);\n          } // Fallback to built-in `defaultSortCompare` if `sortCompare`\n          // is not defined or returns `null`/`false`\n\n\n          if (isUndefinedOrNull(result) || result === false) {\n            result = defaultSortCompare(a, b, {\n              sortBy: sortBy,\n              formatter: formatter,\n              locale: locale,\n              localeOptions: localeOptions,\n              nullLast: nullLast\n            });\n          } // Negate result if sorting in descending order\n\n\n          return (result || 0) * (sortDesc ? -1 : 1);\n        });\n      }\n\n      return items;\n    }\n  },\n  watch: (_watch = {\n    /* istanbul ignore next: pain in the butt to test */\n    isSortable: function isSortable(newValue) {\n      if (newValue) {\n        if (this.isSortable) {\n          this.$on(EVENT_NAME_HEAD_CLICKED, this.handleSort);\n        }\n      } else {\n        this.$off(EVENT_NAME_HEAD_CLICKED, this.handleSort);\n      }\n    }\n  }, _defineProperty(_watch, MODEL_PROP_NAME_SORT_DESC, function (newValue) {\n    /* istanbul ignore next */\n    if (newValue === this.localSortDesc) {\n      return;\n    }\n\n    this.localSortDesc = newValue || false;\n  }), _defineProperty(_watch, MODEL_PROP_NAME_SORT_BY, function (newValue) {\n    /* istanbul ignore next */\n    if (newValue === this.localSortBy) {\n      return;\n    }\n\n    this.localSortBy = newValue || '';\n  }), _defineProperty(_watch, \"localSortDesc\", function localSortDesc(newValue, oldValue) {\n    // Emit update to sort-desc.sync\n    if (newValue !== oldValue) {\n      this.$emit(MODEL_EVENT_NAME_SORT_DESC, newValue);\n    }\n  }), _defineProperty(_watch, \"localSortBy\", function localSortBy(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.$emit(MODEL_EVENT_NAME_SORT_BY, newValue);\n    }\n  }), _watch),\n  created: function created() {\n    if (this.isSortable) {\n      this.$on(EVENT_NAME_HEAD_CLICKED, this.handleSort);\n    }\n  },\n  methods: {\n    // Handlers\n    // Need to move from thead-mixin\n    handleSort: function handleSort(key, field, event, isFoot) {\n      var _this = this;\n\n      if (!this.isSortable) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      if (isFoot && this.noFooterSorting) {\n        return;\n      } // TODO: make this tri-state sorting\n      // cycle desc => asc => none => desc => ...\n\n\n      var sortChanged = false;\n\n      var toggleLocalSortDesc = function toggleLocalSortDesc() {\n        var sortDirection = field.sortDirection || _this.sortDirection;\n\n        if (sortDirection === SORT_DIRECTION_ASC) {\n          _this.localSortDesc = false;\n        } else if (sortDirection === SORT_DIRECTION_DESC) {\n          _this.localSortDesc = true;\n        } else {// sortDirection === 'last'\n          // Leave at last sort direction from previous column\n        }\n      };\n\n      if (field.sortable) {\n        var sortKey = !this.localSorting && field.sortKey ? field.sortKey : key;\n\n        if (this.localSortBy === sortKey) {\n          // Change sorting direction on current column\n          this.localSortDesc = !this.localSortDesc;\n        } else {\n          // Start sorting this column ascending\n          this.localSortBy = sortKey; // this.localSortDesc = false\n\n          toggleLocalSortDesc();\n        }\n\n        sortChanged = true;\n      } else if (this.localSortBy && !this.noSortReset) {\n        this.localSortBy = '';\n        toggleLocalSortDesc();\n        sortChanged = true;\n      }\n\n      if (sortChanged) {\n        // Sorting parameters changed\n        this.$emit(EVENT_NAME_SORT_CHANGED, this.context);\n      }\n    },\n    // methods to compute classes and attrs for thead>th cells\n    sortTheadThClasses: function sortTheadThClasses(key, field, isFoot) {\n      return {\n        // If sortable and sortIconLeft are true, then place sort icon on the left\n        'b-table-sort-icon-left': field.sortable && this.sortIconLeft && !(isFoot && this.noFooterSorting)\n      };\n    },\n    sortTheadThAttrs: function sortTheadThAttrs(key, field, isFoot) {\n      if (!this.isSortable || isFoot && this.noFooterSorting) {\n        // No attributes if not a sortable table\n        return {};\n      }\n\n      var sortable = field.sortable; // Assemble the aria-sort attribute value\n\n      var ariaSort = sortable && this.localSortBy === key ? this.localSortDesc ? 'descending' : 'ascending' : sortable ? 'none' : null; // Return the attribute\n\n      return {\n        'aria-sort': ariaSort\n      };\n    },\n    sortTheadThLabel: function sortTheadThLabel(key, field, isFoot) {\n      // A label to be placed in an `.sr-only` element in the header cell\n      if (!this.isSortable || isFoot && this.noFooterSorting) {\n        // No label if not a sortable table\n        return null;\n      }\n\n      var sortable = field.sortable; // The correctness of these labels is very important for screen-reader users.\n\n      var labelSorting = '';\n\n      if (sortable) {\n        if (this.localSortBy === key) {\n          // currently sorted sortable column.\n          labelSorting = this.localSortDesc ? this.labelSortAsc : this.labelSortDesc;\n        } else {\n          // Not currently sorted sortable column.\n          // Not using nested ternary's here for clarity/readability\n          // Default for ariaLabel\n          labelSorting = this.localSortDesc ? this.labelSortDesc : this.labelSortAsc; // Handle sortDirection setting\n\n          var sortDirection = this.sortDirection || field.sortDirection;\n\n          if (sortDirection === SORT_DIRECTION_ASC) {\n            labelSorting = this.labelSortAsc;\n          } else if (sortDirection === SORT_DIRECTION_DESC) {\n            labelSorting = this.labelSortDesc;\n          }\n        }\n      } else if (!this.noSortReset) {\n        // Non sortable column\n        labelSorting = this.localSortBy ? this.labelSortClear : '';\n      } // Return the sr-only sort label or null if no label\n\n\n      return trim(labelSorting) || null;\n    }\n  }\n});","/*\n * Consistent and stable sort function across JavaScript platforms\n *\n * Inconsistent sorts can cause SSR problems between client and server\n * such as in <b-table> if sortBy is applied to the data on server side render.\n * Chrome and V8 native sorts are inconsistent/unstable\n *\n * This function uses native sort with fallback to index compare when the a and b\n * compare returns 0\n *\n * Algorithm based on:\n * https://stackoverflow.com/questions/1427608/fast-stable-sorting-algorithm-implementation-in-javascript/45422645#45422645\n *\n * @param {array} array to sort\n * @param {function} sort compare function\n * @return {array}\n */\nexport var stableSort = function stableSort(array, compareFn) {\n  // Using `.bind(compareFn)` on the wrapped anonymous function improves\n  // performance by avoiding the function call setup. We don't use an arrow\n  // function here as it binds `this` to the `stableSort` context rather than\n  // the `compareFn` context, which wouldn't give us the performance increase.\n  return array.map(function (a, index) {\n    return [index, a];\n  }).sort(function (a, b) {\n    return this(a[1], b[1]) || a[0] - b[0];\n  }.bind(compareFn)).map(function (e) {\n    return e[1];\n  });\n};","import { get } from '../../../utils/get';\nimport { isDate, isFunction, isNumber, isNumeric, isUndefinedOrNull } from '../../../utils/inspect';\nimport { toFloat } from '../../../utils/number';\nimport { stringifyObjectValues } from '../../../utils/stringify-object-values';\n\nvar normalizeValue = function normalizeValue(value) {\n  if (isUndefinedOrNull(value)) {\n    return '';\n  }\n\n  if (isNumeric(value)) {\n    return toFloat(value, value);\n  }\n\n  return value;\n}; // Default sort compare routine\n//\n// TODO:\n//   Add option to sort by multiple columns (tri-state per column,\n//   plus order of columns in sort) where `sortBy` could be an array\n//   of objects `[ {key: 'foo', sortDir: 'asc'}, {key:'bar', sortDir: 'desc'} ...]`\n//   or an array of arrays `[ ['foo','asc'], ['bar','desc'] ]`\n//   Multisort will most likely be handled in `mixin-sort.js` by\n//   calling this method for each sortBy\n\n\nexport var defaultSortCompare = function defaultSortCompare(a, b) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$sortBy = _ref.sortBy,\n      sortBy = _ref$sortBy === void 0 ? null : _ref$sortBy,\n      _ref$formatter = _ref.formatter,\n      formatter = _ref$formatter === void 0 ? null : _ref$formatter,\n      _ref$locale = _ref.locale,\n      locale = _ref$locale === void 0 ? undefined : _ref$locale,\n      _ref$localeOptions = _ref.localeOptions,\n      localeOptions = _ref$localeOptions === void 0 ? {} : _ref$localeOptions,\n      _ref$nullLast = _ref.nullLast,\n      nullLast = _ref$nullLast === void 0 ? false : _ref$nullLast;\n\n  // Get the value by `sortBy`\n  var aa = get(a, sortBy, null);\n  var bb = get(b, sortBy, null); // Apply user-provided formatter\n\n  if (isFunction(formatter)) {\n    aa = formatter(aa, sortBy, a);\n    bb = formatter(bb, sortBy, b);\n  } // Internally normalize value\n  // `null` / `undefined` => ''\n  // `'0'` => `0`\n\n\n  aa = normalizeValue(aa);\n  bb = normalizeValue(bb);\n\n  if (isDate(aa) && isDate(bb) || isNumber(aa) && isNumber(bb)) {\n    // Special case for comparing dates and numbers\n    // Internally dates are compared via their epoch number values\n    return aa < bb ? -1 : aa > bb ? 1 : 0;\n  } else if (nullLast && aa === '' && bb !== '') {\n    // Special case when sorting `null` / `undefined` / '' last\n    return 1;\n  } else if (nullLast && aa !== '' && bb === '') {\n    // Special case when sorting `null` / `undefined` / '' last\n    return -1;\n  } // Do localized string comparison\n\n\n  return stringifyObjectValues(aa).localeCompare(stringifyObjectValues(bb), locale, localeOptions);\n};","import { Vue } from '../../../vue';\nimport { SLOT_NAME_TOP_ROW } from '../../../constants/slots';\nimport { isFunction } from '../../../utils/inspect';\nimport { BTr } from '../tr'; // --- Props ---\n\nexport var props = {}; // --- Mixin ---\n// @vue/component\n\nexport var topRowMixin = Vue.extend({\n  methods: {\n    renderTopRow: function renderTopRow() {\n      var fields = this.computedFields,\n          stacked = this.stacked,\n          tbodyTrClass = this.tbodyTrClass,\n          tbodyTrAttr = this.tbodyTrAttr;\n      var h = this.$createElement; // Add static Top Row slot (hidden in visibly stacked mode as we can't control the data-label)\n      // If in *always* stacked mode, we don't bother rendering the row\n\n      if (!this.hasNormalizedSlot(SLOT_NAME_TOP_ROW) || stacked === true || stacked === '') {\n        return h();\n      }\n\n      return h(BTr, {\n        staticClass: 'b-table-top-row',\n        class: [isFunction(tbodyTrClass) ? tbodyTrClass(null, 'row-top') : tbodyTrClass],\n        attrs: isFunction(tbodyTrAttr) ? tbodyTrAttr(null, 'row-top') : tbodyTrAttr,\n        key: 'b-top-row'\n      }, [this.normalizeSlot(SLOT_NAME_TOP_ROW, {\n        columns: fields.length,\n        fields: fields\n      })]);\n    }\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_TABLE } from '../../constants/components';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { hasListenerMixin } from '../../mixins/has-listener';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { bottomRowMixin, props as bottomRowProps } from './helpers/mixin-bottom-row';\nimport { busyMixin, props as busyProps } from './helpers/mixin-busy';\nimport { captionMixin, props as captionProps } from './helpers/mixin-caption';\nimport { colgroupMixin, props as colgroupProps } from './helpers/mixin-colgroup';\nimport { emptyMixin, props as emptyProps } from './helpers/mixin-empty';\nimport { filteringMixin, props as filteringProps } from './helpers/mixin-filtering';\nimport { itemsMixin, props as itemsProps } from './helpers/mixin-items';\nimport { paginationMixin, props as paginationProps } from './helpers/mixin-pagination';\nimport { providerMixin, props as providerProps } from './helpers/mixin-provider';\nimport { selectableMixin, props as selectableProps } from './helpers/mixin-selectable';\nimport { sortingMixin, props as sortingProps } from './helpers/mixin-sorting';\nimport { stackedMixin, props as stackedProps } from './helpers/mixin-stacked';\nimport { tableRendererMixin, props as tableRendererProps } from './helpers/mixin-table-renderer';\nimport { tbodyMixin, props as tbodyProps } from './helpers/mixin-tbody';\nimport { tfootMixin, props as tfootProps } from './helpers/mixin-tfoot';\nimport { theadMixin, props as theadProps } from './helpers/mixin-thead';\nimport { topRowMixin, props as topRowProps } from './helpers/mixin-top-row'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), bottomRowProps), busyProps), captionProps), colgroupProps), emptyProps), filteringProps), itemsProps), paginationProps), providerProps), selectableProps), sortingProps), stackedProps), tableRendererProps), tbodyProps), tfootProps), theadProps), topRowProps)), NAME_TABLE); // --- Main component ---\n// @vue/component\n\nexport var BTable = /*#__PURE__*/Vue.extend({\n  name: NAME_TABLE,\n  // Order of mixins is important!\n  // They are merged from first to last, followed by this component\n  mixins: [// General mixins\n  attrsMixin, hasListenerMixin, idMixin, normalizeSlotMixin, // Required table mixins\n  itemsMixin, tableRendererMixin, stackedMixin, theadMixin, tfootMixin, tbodyMixin, // Table features mixins\n  stackedMixin, filteringMixin, sortingMixin, paginationMixin, captionMixin, colgroupMixin, selectableMixin, emptyMixin, topRowMixin, bottomRowMixin, busyMixin, providerMixin],\n  props: props // Render function is provided by `tableRendererMixin`\n\n});"],"sourceRoot":""}